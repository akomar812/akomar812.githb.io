(this["webpackJsonpakomar812.github.io"]=this["webpackJsonpakomar812.github.io"]||[]).push([[0],{11:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(12),r=n.n(a),s=(n(18),n(2)),o=n(6),d="https://drive.google.com/uc?id=1gL7S3L4zUgKBmq7oiPxmhPQxeZ2Us2I0&export=download",l="https://www.linkedin.com/in/andrew-komar-24537036/",u="https://github.com/akomar812",j=n(3),h=n.n(j),b=n(8),p=(n(11),n(0));h.a.parseFont("Big",b.a);var O=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(""),j=Object(s.a)(r,2),b=j[0],O=j[1],f=Object(c.useState)([]),g=Object(s.a)(f,2),x=g[0],m=g[1],v=Object(c.useState)(),y=Object(s.a)(v,2),w=y[0],k=y[1],C={help:"Print CLI usage",history:"CMD history",resume:"Resume file download",linkedin:"LinkedIn profile",github:"Github repos",chart:"Select asset to chart live","chart [asset]":"Chart live asset price"},S=Object.keys(C).reduce((function(e,t){return e.length>t.length?e:t})),L=function(){var e=["    contact: ".concat("akomar812@gmail.com"),"\n","    cmd".concat(M("cmd"),"description"),"    ---".concat(M("---"),"-----------")];for(var t in C)e.push("    ".concat(t).concat(M(t)).concat(C[t]));return e.push(""),e.push("    general"),e.push("    -------"),e.push("    enter an empty command to clear screen"),e.push('    "-c" can be used to copy links to your clipboard (when applicable)'),e.push('    "-o" can be used to open links in new tab (when applicable)'),e.push(""),e.push("\n"),e.join("\n")},M=function(e){for(var t="         ",n=0;n<S.length-e.length;n++)t+=" ";return t};return Object(c.useEffect)((function(){return h.a.text("Andrew Komar",{font:"Big"},(function(e,t){return a(t)}))}),[]),Object(c.useEffect)((function(){return m([[i,L()].join("\n")])}),[i]),Object(c.useEffect)((function(){return x.length>1?e.setHistory([].concat(Object(o.a)(e.history),[x[0]])):null}),[x]),Object(c.useEffect)((function(){var t=w>=0?e.history[w]:"";document.getElementById("cli-input").children[1].value=t,O(t)}),[w]),Object(p.jsx)("div",{className:"container",onClick:function(){return document.getElementById("cli-input").children[1].focus()},children:Object(p.jsxs)("div",{id:"cli-wrapper",children:[Object(p.jsx)("div",{id:"cli-history",children:x.map((function(e,t){return Object(p.jsx)("div",{className:"cli-history-item",children:e},t)}))}),Object(p.jsxs)("div",{id:"cli-input",children:[Object(p.jsx)("span",{children:"$"}),Object(p.jsx)("input",{type:"text",onKeyDown:function(t){switch(t.keyCode){case 13:var n=x.slice();n.push(b),n.push(function(t){if(""===t)return t;if(t.indexOf("help")>=0)return L();if(0===t.indexOf("resume"))return window.open(d,"_blank"),d;if(0===t.indexOf("linkedin"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(l),t.indexOf("-o")>0&&window.open(l,"_blank"),l;if(0===t.indexOf("github"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(u),t.indexOf("-o")>0&&window.open(u,"_blank"),u;if(0===t.indexOf("history"))return e.history.filter((function(e){return""!==e})).join("\n");if("chart"===t)return window.setTimeout((function(){return e.displayManager.showChartSetup()}),0),t;if(0===t.indexOf("chart")){var n=t.split(" ")[1];return window.setTimeout((function(){return n?e.displayManager.showChart(n):e.displayManager.showChartSetup()}),0),t}return"Unknown cmd: "+t}(b)),m(n.reverse().slice(0,2).reverse()),k(void 0),O(""),t.target.value="";break;case 38:e.history.length>0&&k(w&&w>0?w-1:w?void 0:e.history.length-1);break;case 40:e.history.length>0&&(w&&w<e.history.length-1?k(w+1):k(void 0))}},onChange:function(e){return O(e.target.value)}})]})]})})},f=n(4),g=n.n(f),x=n(9),m=n(13),v=n.n(m);function y(e){return Object(p.jsxs)("div",{className:"cli-chart-metric",children:[Object(p.jsxs)("div",{className:"cli-chart-metric-header",children:[e.title,":"]}),Object(p.jsx)("div",{children:e.data})]})}function w(e){var t=new Date(e.datetime);return Object(p.jsxs)("div",{children:[e.quantity,", ",e.price,", ",t.getMonth()+1,"/",t.getDate(),"/",t.getFullYear()]})}function k(e){return Object(p.jsxs)("div",{tabIndex:"0",className:e.isLoading?"hidden":"cli-chart-control",onClick:e.onClick,children:[Object(p.jsx)("div",{children:e.name}),Object(p.jsxs)("div",{children:[" - ",e.hotkey]})]})}function C(e){return Object(p.jsxs)("div",{id:"chart",children:[Object(p.jsx)("div",{children:v.a.plot(e.points,{height:e.height})}),Object(p.jsxs)("div",{id:"cli-chart-sidebar",children:[Object(p.jsxs)("div",{id:"cli-chart-transactions",children:[Object(p.jsx)("div",{children:"transactions"}),Object(p.jsx)("div",{id:"cli-chart-transactions-wrapper",children:e.transactions.map((function(e,t){return Object(p.jsx)(w,{quantity:e[0],price:e[1],datetime:e[2]},t)}))})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{textAlign:"center"},children:"controls"}),Object(p.jsx)(k,{name:"exit",hotkey:"[ctrl] + [c]",onClick:e.displayManager.showCLI,isLoading:e.isLoading}),Object(p.jsx)(k,{name:"buy",hotkey:"[ctrl] + [b]",onClick:e.buy,isLoading:e.isLoading}),Object(p.jsx)(k,{name:"sell",hotkey:"[ctrl] + [s]",onClick:e.sell,isLoading:e.isLoading}),Object(p.jsx)(k,{name:"[+]",hotkey:"[ctrl] + [+]",onClick:e.zoomIn,isLoading:e.isLoading}),Object(p.jsx)(k,{name:"[-]",hotkey:"[ctrl] + [-]",onClick:e.zoomOut,isLoading:e.isLoading})]})]})]})}function S(e){var t,n=Object(c.useState)(""),i=Object(s.a)(n,2),a=i[0],r=i[1],d=Object(c.useState)(0),l=Object(s.a)(d,2),u=l[0],j=l[1],b=Object(c.useState)(),O=Object(s.a)(b,2),f=O[0],m=O[1],v=Object(c.useState)(32),w=Object(s.a)(v,2),k=w[0],S=w[1],L=Object(c.useState)({}),M=Object(s.a)(L,2),E=M[0],F=M[1],I=Object(c.useState)(),N=Object(s.a)(I,2),B=N[0],D=N[1],T=Object(c.useState)([]),K=Object(s.a)(T,2),P=K[0],_=K[1],z=Object(c.useState)(0),A=Object(s.a)(z,2),J=A[0],U=A[1],q=Object(c.useState)([]),H=Object(s.a)(q,2),Q=H[0],R=H[1],G=Object(c.useState)(0),W=Object(s.a)(G,2),Y=W[0],Z=W[1],$=function(){j(J+1===0?0:(Q.reduce((function(e,t){return e+t[0]*t[1]}),0)+parseFloat(B.price))/(Q.length+1)),U(J+1),Z(-1*(Q.reduce((function(e,t){return e+t[0]*t[1]}),0)+parseFloat(B.price))),R([].concat(Object(o.a)(Q),[[1,parseFloat(B.price),B.time]]))},V=function(){j(J-1===0?0:(Q.reduce((function(e,t){return e+t[0]*t[1]}),0)-parseFloat(B.price))/(Q.length+1)),U(J-1),Z(-1*(Q.reduce((function(e,t){return e+t[0]*t[1]}),0)-parseFloat(B.price))),R([].concat(Object(o.a)(Q),[[-1,parseFloat(B.price),B.time]]))},X=function(){return k>5?S(k-1):null},ee=function(){return k<32?S(k+1):null};Object(c.useEffect)((function(){h.a.text(e.asset,{font:"Big"},(function(e,t){return r(t)})),(t=new WebSocket("wss://ws-feed.pro.coinbase.com")).addEventListener("open",(function(){t.send(JSON.stringify({type:"subscribe",product_ids:[e.asset],channels:["ticker"]}))})),t.addEventListener("subscribe",(function(e){console.log("Subscription message:",e)})),t.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);switch(t.type){case"ticker":return D(t);default:console.log("Message from server ",e.data)}}catch(n){console.log("Received unparseable raw message:",e.data)}}))}),[]),Object(c.useEffect)(Object(x.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B&&((t=P.length<120?P.slice(0):P.slice(1)).push(parseFloat(B.price)),_(t));case 1:case"end":return e.stop()}}),e)}))),[B]),Object(c.useEffect)((function(){console.log("# asset:",e.asset),P.length>5?m(Object(p.jsx)(C,{displayManager:e.displayManager,buy:$,sell:V,zoomIn:X,zoomOut:ee,points:P,transactions:Q,height:k,isLoading:te})):m(Object(p.jsx)("div",{children:"Loading..."},"loading"))}),[P]);var te=!f||"loading"===f.key;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{id:"cli-wrapper",className:"cli-chart"+(te?"-loading":""),onKeyDown:function(t){var n=Object.assign(E);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():n[17]&&n[66]?$():n[17]&&n[83]?V():n[17]&&n[61]?X():n[17]&&n[173]?ee():void F(n)},onKeyUp:function(e){var t=Object.assign(E);delete t[e.keyCode],F(t)},tabIndex:"0",children:[Object(p.jsxs)("div",{className:te?"hidden":"cli-chart-header",children:[Object(p.jsx)("div",{id:"cli-chart-banner",children:a}),Object(p.jsxs)("div",{id:"cli-chart-metrics",children:[Object(p.jsx)(y,{title:"Price",data:B?B.price:""}),Object(p.jsx)(y,{title:"Bid",data:B?B.best_bid:""}),Object(p.jsx)(y,{title:"Ask",data:B?B.best_ask:""}),Object(p.jsx)(y,{title:"Quantity",data:J}),Object(p.jsx)(y,{title:"Cost Basis",data:u.toFixed(4)}),Object(p.jsx)(y,{title:"Total",data:Y.toFixed(4)})]})]}),Object(p.jsx)("div",{style:{width:"100%",textAlign:te?"center":""},children:f})]})})}h.a.parseFont("Big",b.a);var L=function(e,t){return(e%t+t)%t};function M(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(0),o=Object(s.a)(r,2),d=o[0],l=o[1],u=Object(c.useState)({}),j=Object(s.a)(u,2),h=j[0],b=j[1];return Object(c.useEffect)(Object(x.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.pro.coinbase.com/products");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n.sort((function(e,t){return e.id>t.id?1:-1})));case 7:case"end":return e.stop()}}),e)}))),[]),Object(p.jsx)("div",{tabIndex:"0",className:"container",onKeyDown:function(t){if(17===t.keyCode||h[17]){var n=Object.assign(h);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():b(n)}switch(t.keyCode){case 13:e.displayManager.showChart(i[d].id);break;case 38:l(L(d-1,i.length));break;case 40:l(L(d+1,i.length))}},children:Object(p.jsxs)("div",{id:"cli-wrapper",className:"spaced-columns",children:[Object(p.jsx)("div",{id:"cli-history",children:i.slice(d,d+30).map((function(e,t){return Object(p.jsx)("div",{className:0===t?"selected":"",children:e.id},t)}))}),Object(p.jsx)("div",{children:"exit - [ctrl] + [c]"})]})})}var E=function(){var e=Object(c.useState)({name:null}),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(Object(p.jsx)("div",{})),r=Object(s.a)(a,2),o=r[0],d=r[1],l=Object(c.useState)([]),u=Object(s.a)(l,2),j=u[0],h=u[1],b=function(){i({name:"cli",params:{}}),window.history.replaceState(null,"Main","/")},f={showCLI:b,showChart:function(e){i({name:"chart",params:{asset:e}}),window.history.replaceState(null,"Chart","/#chart")},showChartSetup:function(){i({name:"chartsetup",params:{}}),window.history.replaceState(null,"Chart","/#chartsetup")}};return Object(c.useEffect)((function(){return b()}),[]),Object(c.useEffect)((function(){switch(n.name){case"chartsetup":d(Object(p.jsx)(M,{displayManager:f}));break;case"chart":d(Object(p.jsx)(S,{asset:n.params.asset,displayManager:f}));break;case"cli":default:d(Object(p.jsx)(O,{history:j,setHistory:h,displayManager:f}))}}),[n]),Object(p.jsx)("div",{className:"App",children:o})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),F()}},[[21,1,2]]]);
//# sourceMappingURL=main.26a6b995.chunk.js.map