(this["webpackJsonpakomar812.github.io"]=this["webpackJsonpakomar812.github.io"]||[]).push([[0],{10:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(11),s=n.n(a),r=(n(18),n(2)),o=n(5),d="https://drive.google.com/uc?id=1gL7S3L4zUgKBmq7oiPxmhPQxeZ2Us2I0&export=download",l="https://www.linkedin.com/in/andrew-komar-24537036/",u="https://github.com/akomar812",j=n(3),h=n.n(j),b=n(7),O=(n(10),n(0));h.a.parseFont("Big",b.a);var p=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(""),j=Object(r.a)(s,2),b=j[0],p=j[1],f=Object(c.useState)([]),g=Object(r.a)(f,2),m=g[0],v=g[1],x=Object(c.useState)(),y=Object(r.a)(x,2),w=y[0],k=y[1],C=Object(c.useState)("/"),S=Object(r.a)(C,2),L=S[0],E=S[1],N={help:"Print CLI usage",history:"CMD history",resume:"Resume file download",linkedin:"LinkedIn profile",github:"Github repos",chart:"Select asset to chart live","chart [asset]":"Chart live asset price (example asset: BTC-USD)"},B=Object.keys(N).reduce((function(e,t){return e.length>t.length?e:t})),M=function(){return document.getElementById("cli-input").children[1].focus()},I=function(){var e=["    contact: ".concat("akomar812@gmail.com"),"\n","    cmd".concat(F("cmd"),"description"),"    ---".concat(F("---"),"-----------")];for(var t in N)e.push("    ".concat(t).concat(F(t)).concat(N[t]));return e.push(""),e.push("    general"),e.push("    -------"),e.push("    enter an empty command to clear screen"),e.push('    "-c" can be used to copy links to your clipboard (when applicable)'),e.push('    "-o" can be used to open links in new tab (when applicable)'),e.push(""),e.push("\n"),e.join("\n")},F=function(e){for(var t="         ",n=0;n<B.length-e.length;n++)t+=" ";return t};return Object(c.useEffect)((function(){return M()}),[]),Object(c.useEffect)((function(){return h.a.text("Andrew Komar",{font:"Big"},(function(e,t){return a(t)}))}),[]),Object(c.useEffect)((function(){return v([[i,I()].join("\n")])}),[i]),Object(c.useEffect)((function(){return m.length>1?e.setHistory([].concat(Object(o.a)(e.history),[m[0]])):null}),[m]),Object(c.useEffect)((function(){var t=w>=0?e.history[w]:"";document.getElementById("cli-input").children[1].value=t,p(t)}),[w,e.history]),Object(O.jsx)("div",{className:"container",onClick:M,children:Object(O.jsxs)("div",{id:"cli-wrapper",children:[Object(O.jsx)("div",{id:"cli-history",children:m.map((function(e,t){return Object(O.jsx)("div",{className:"cli-history-item",children:e},t)}))}),Object(O.jsxs)("div",{id:"cli-input",className:"row",children:[Object(O.jsx)("span",{children:"$"}),Object(O.jsx)("input",{type:"text",onKeyDown:function(t){switch(t.keyCode){case 13:var n=m.slice();n.push(b),n.push(function(t){if(""===t)return t;if(t.indexOf("help")>=0)return I();if(0===t.indexOf("resume"))return window.open(d,"_blank"),d;if(0===t.indexOf("linkedin"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(l),t.indexOf("-o")>0&&window.open(l,"_blank"),l;if(0===t.indexOf("github"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(u),t.indexOf("-o")>0&&window.open(u,"_blank"),u;if(0===t.indexOf("history"))return e.history.filter((function(e){return""!==e})).join("\n");if("chart"===t)return window.setTimeout((function(){return e.displayManager.showChartSetup()}),0),t;if(0===t.indexOf("chart")){var n=t.split(" ")[1];return window.setTimeout((function(){return n?e.displayManager.showChart(n.toUpperCase()):e.displayManager.showChartSetup()}),0),t}return"pwd"===t?L:"cd"===t?(E(""),L):"Unknown cmd: "+t}(b)),v(n.reverse().slice(0,2).reverse()),k(void 0),p(""),t.target.value="";break;case 38:e.history.length>0&&k(w&&w>0?w-1:w?void 0:e.history.length-1);break;case 40:e.history.length>0&&(w&&w<e.history.length-1?k(w+1):k(void 0))}},onChange:function(e){return p(e.target.value)}})]})]})})},f=n(12),g=n.n(f);function m(e){return Object(O.jsxs)("div",{className:"column align-start cli-chart-metric",children:[Object(O.jsxs)("div",{className:"cli-chart-metric-header",children:[e.title,":"]}),Object(O.jsx)("div",{children:e.data})]})}function v(e){var t=new Date(e.datetime);return Object(O.jsxs)("div",{children:[e.quantity,", ",e.price,", ",t.getMonth()+1,"/",t.getDate(),"/",t.getFullYear()]})}function x(e){return Object(O.jsxs)("div",{tabIndex:"0",className:e.isLoading?"hidden":"cli-chart-control",onClick:e.onClick,children:[Object(O.jsx)("div",{children:e.name}),Object(O.jsxs)("div",{children:[" - ",e.hotkey]})]})}function y(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){e&&e.costBasis>0?e.costBasis>e.point.price?a("cli-chart-otm"):a("cli-chart-itm"):a("")}),[e,e.costBasis,e.point]),Object(O.jsxs)("div",{className:"row justify-spaced",children:[Object(O.jsx)("div",{className:i,children:g.a.plot(e.points,{height:e.height})}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsxs)("div",{id:"cli-chart-transactions",children:[Object(O.jsx)("div",{children:"transactions"}),Object(O.jsx)("div",{id:"cli-chart-transactions-wrapper",children:e.transactions.map((function(e,t){return Object(O.jsx)(v,{quantity:e[0],price:e[1],datetime:e[2]},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{textAlign:"center"},children:"controls"}),Object(O.jsx)(x,{name:"exit",hotkey:"[ctrl] + [c]",onClick:e.displayManager.showCLI,isLoading:e.isLoading}),Object(O.jsx)(x,{name:"reselect",hotkey:"[ctrl] + [r]",onClick:e.displayManager.showChartSetup,isLoading:e.isLoading}),Object(O.jsx)(x,{name:"buy",hotkey:"[ctrl] + [b]",onClick:e.buy,isLoading:e.isLoading}),Object(O.jsx)(x,{name:"sell",hotkey:"[ctrl] + [s]",onClick:e.sell,isLoading:e.isLoading}),Object(O.jsx)(x,{name:"[+]",hotkey:"[ctrl] + [+]",onClick:e.zoomIn,isLoading:e.isLoading}),Object(O.jsx)(x,{name:"[-]",hotkey:"[ctrl] + [-]",onClick:e.zoomOut,isLoading:e.isLoading})]})]})]})}function w(e){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Unknown asset: ",e.asset," (example valid entry: BTC-USD)"]}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"}),Object(O.jsx)("div",{children:"select asset - [ctrl] + [r]"})]})}function k(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(0),d=Object(r.a)(s,2),l=d[0],u=d[1],j=Object(c.useState)(),b=Object(r.a)(j,2),p=b[0],f=b[1],g=Object(c.useState)(32),v=Object(r.a)(g,2),x=v[0],k=v[1],C=Object(c.useState)({}),S=Object(r.a)(C,2),L=S[0],E=S[1],N=Object(c.useState)(),B=Object(r.a)(N,2),M=B[0],I=B[1],F=Object(c.useState)([]),D=Object(r.a)(F,2),T=D[0],U=D[1],K=Object(c.useState)(0),P=Object(r.a)(K,2),_=P[0],z=P[1],A=Object(c.useState)(-1),J=Object(r.a)(A,2),q=J[0],R=J[1],H=Object(c.useState)([]),Q=Object(r.a)(H,2),G=Q[0],W=Q[1],Y=Object(c.useState)(0),Z=Object(r.a)(Y,2),$=Z[0],V=Z[1],X=function(e){var t=G.filter((function(e){return e[2]===q}));return ee(t,e)/(t.length+1)},ee=function(e,t){return e.reduce((function(e,t){return e+t[1]}),0)+t},te=function(){0===l&&R(q+1);var e=parseFloat(M.price);u(_+1===0?0:X(e)),z(_+1),V(-1*ee(G,e)),W([].concat(Object(o.a)(G),[[1,e,M.time,q]]))},ne=function(){0===l&&R(q+1);var e=-1*parseFloat(M.price);u(_-1===0?0:X(e)),z(_-1),V(-1*ee(G,e)),W([].concat(Object(o.a)(G),[[-1,e,M.time,q]]))},ce=function(){return x>5?k(x-1):null},ie=function(){return x<32?k(x+1):null};Object(c.useEffect)((function(){h.a.text(e.asset,{font:"Big"},(function(e,t){return a(t)})),document.getElementById("cli-wrapper").focus();var t=new WebSocket("wss://ws-feed.pro.coinbase.com");return t.addEventListener("open",(function(){t.send(JSON.stringify({type:"subscribe",product_ids:[e.asset],channels:["ticker"]}))})),t.addEventListener("subscribe",(function(e){console.log("Subscription message:",e)})),t.addEventListener("message",(function(t){try{var n=JSON.parse(t.data);switch(n.type){case"ticker":return I(n);case"error":return void("Failed to subscribe"===n.message&&n.reason===e.asset+" is not a valid product"&&f(Object(O.jsx)(w,{asset:e.asset},"error")));default:console.log("Message from server ",t.data)}}catch(c){console.log("Received unparseable raw message:",t.data)}})),function(){t.close()}}),[]),Object(c.useEffect)((function(){if(M){var e=T.length<120?T.slice(0):T.slice(1);e.push(parseFloat(M.price)),U(e)}}),[M]),Object(c.useEffect)((function(){T.length>3?f(Object(O.jsx)(y,{displayManager:e.displayManager,buy:te,sell:ne,zoomIn:ce,zoomOut:ie,costBasis:l,point:M,points:T,transactions:G,height:x,isLoading:ae})):f(Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Loading... ",e.asset]}),Object(O.jsx)("div",{children:"Depending on trade volume this can take a moment"}),Object(O.jsxs)("div",{className:"row justify-center",children:[Object(O.jsx)("div",{style:{marginRight:"2em"},children:"[ctrl] + [c] - cancel"}),Object(O.jsx)("div",{children:"[ctrl] + [r] - reselect"})]})]},"loading"))}),[T]);var ae=!p||"loading"===p.key||"error"===p.key;return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"cli-chart column justify-center align-"+(ae?"center":"start"),onKeyDown:function(t){var n=Object.assign(L);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():n[17]&&n[82]?e.displayManager.showChartSetup():n[17]&&n[66]?te():n[17]&&n[83]?ne():n[17]&&n[61]?ce():n[17]&&n[173]?ie():void E(n)},onKeyUp:function(e){var t=Object.assign(L);delete t[e.keyCode],E(t)},tabIndex:"0",children:[Object(O.jsxs)("div",{className:ae?"hidden":"row justify-start",children:[Object(O.jsx)("div",{id:"cli-chart-banner",children:i}),Object(O.jsxs)("div",{className:"row align-center justify-center",children:[Object(O.jsx)(m,{title:"Price",data:M?M.price:""}),Object(O.jsx)(m,{title:"Bid",data:M?M.best_bid:""}),Object(O.jsx)(m,{title:"Ask",data:M?M.best_ask:""}),Object(O.jsx)(m,{title:"Quantity",data:_}),Object(O.jsx)(m,{title:"Cost Basis",data:l.toFixed(4)}),Object(O.jsx)(m,{title:"Total",data:$.toFixed(4)})]})]}),Object(O.jsx)("div",{style:{width:"100%",textAlign:ae?"center":""},children:p})]})})}h.a.parseFont("Big",b.a);var C=n(9),S=n.n(C),L=n(13),E=function(e,t){return(e%t+t)%t};function N(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)([]),o=Object(r.a)(s,2),d=o[0],l=o[1],u=Object(c.useState)(0),j=Object(r.a)(u,2),h=j[0],b=j[1],p=Object(c.useState)({}),f=Object(r.a)(p,2),g=f[0],m=f[1],v=Object(c.useState)(""),x=Object(r.a)(v,2),y=x[0],w=x[1];return Object(c.useEffect)((function(){y.length>0?l(i.filter((function(e){return e.id.match(y.toUpperCase())}))):l(i)}),[y,i]),Object(c.useEffect)((function(){function e(){return(e=Object(L.a)(S.a.mark((function e(){var t,n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.pro.coinbase.com/products");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c=n.sort((function(e,t){return e.id>t.id?1:-1})),a(c),l(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.getElementById("cli-view").focus(),function(){e.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{tabIndex:"0",className:"container",onKeyDown:function(t){var n=17===t.keyCode||g[17],c=t.keyCode>47&&t.keyCode<58,i=t.keyCode>64&&t.keyCode<91;if(n){var a=Object.assign(g);return a[t.keyCode]=!0,a[17]&&a[67]?e.displayManager.showCLI():m(a)}switch((c||i)&&(b(0),w(y+String.fromCharCode(t.keyCode))),t.keyCode){case 13:e.displayManager.showChart(d[h].id);break;case 38:b(E(h-1,d.length));break;case 40:b(E(h+1,d.length));break;case 8:b(0),w(y.substring(0,y.length-1));break;case 173:b(0),w(y+"-")}},id:"cli-view",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"column justify-spaced",children:[Object(O.jsx)("div",{id:"cli-history",children:d.slice(h,h+30).map((function(e,t){return Object(O.jsx)("div",{className:0===t?"selected":"",children:e.id},t)}))}),Object(O.jsxs)("div",{id:"cli-setup-controls",className:"row",children:[Object(O.jsx)("div",{children:"nav up - [\u2191]"}),Object(O.jsx)("div",{children:"nav down - [\u2193]"}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"}),Object(O.jsxs)("div",{children:["search: ",""===y?"<search>":y]})]})]})})}var B=function(){var e=Object(c.useState)({name:null}),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(Object(O.jsx)("div",{})),s=Object(r.a)(a,2),o=s[0],d=s[1],l=Object(c.useState)([]),u=Object(r.a)(l,2),j=u[0],h=u[1],b=function(){i({name:"cli",params:{}}),window.history.replaceState(null,"Main","/")},f=function(e){i({name:"chart",params:{asset:e}}),window.history.replaceState(null,"Chart","/#chart")},g=function(){i({name:"chartsetup",params:{}}),window.history.replaceState(null,"Chart","/#chartsetup")};return Object(c.useEffect)((function(){return b()}),[]),Object(c.useEffect)((function(){var e={showCLI:b,showChart:f,showChartSetup:g};switch(n.name){case"chartsetup":d(Object(O.jsx)(N,{displayManager:e}));break;case"chart":d(Object(O.jsx)(k,{asset:n.params.asset,displayManager:e}));break;case"cli":default:d(Object(O.jsx)(p,{history:j,setHistory:h,displayManager:e}))}}),[n,j]),Object(O.jsx)("div",{className:"App",children:o})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),M()}},[[21,1,2]]]);
//# sourceMappingURL=main.b5000b7a.chunk.js.map