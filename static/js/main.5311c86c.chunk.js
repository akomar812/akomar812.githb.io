(this["webpackJsonpakomar812.github.io"]=this["webpackJsonpakomar812.github.io"]||[]).push([[0],{11:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(12),s=n.n(a),r=(n(18),n(2)),o=n(6),d="https://drive.google.com/uc?id=1gL7S3L4zUgKBmq7oiPxmhPQxeZ2Us2I0&export=download",l="https://www.linkedin.com/in/andrew-komar-24537036/",u="https://github.com/akomar812",j=n(3),h=n.n(j),b=n(8),O=(n(11),n(0));h.a.parseFont("Big",b.a);var p=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(""),j=Object(r.a)(s,2),b=j[0],p=j[1],f=Object(c.useState)([]),g=Object(r.a)(f,2),x=g[0],m=g[1],v=Object(c.useState)(),y=Object(r.a)(v,2),w=y[0],k=y[1],S={help:"Print CLI usage",history:"CMD history",resume:"Resume file download",linkedin:"LinkedIn profile",github:"Github repos",chart:"Select asset to chart live","chart [asset]":"Chart live asset price (example asset: ETH-USD)"},C=Object.keys(S).reduce((function(e,t){return e.length>t.length?e:t})),L=function(){return document.getElementById("cli-input").children[1].focus()},E=function(){var e=["    contact: ".concat("akomar812@gmail.com"),"\n","    cmd".concat(M("cmd"),"description"),"    ---".concat(M("---"),"-----------")];for(var t in S)e.push("    ".concat(t).concat(M(t)).concat(S[t]));return e.push(""),e.push("    general"),e.push("    -------"),e.push("    enter an empty command to clear screen"),e.push('    "-c" can be used to copy links to your clipboard (when applicable)'),e.push('    "-o" can be used to open links in new tab (when applicable)'),e.push(""),e.push("\n"),e.join("\n")},M=function(e){for(var t="         ",n=0;n<C.length-e.length;n++)t+=" ";return t};return Object(c.useEffect)((function(){return L()}),[]),Object(c.useEffect)((function(){return h.a.text("Andrew Komar",{font:"Big"},(function(e,t){return a(t)}))}),[]),Object(c.useEffect)((function(){return m([[i,E()].join("\n")])}),[i]),Object(c.useEffect)((function(){return x.length>1?e.setHistory([].concat(Object(o.a)(e.history),[x[0]])):null}),[x]),Object(c.useEffect)((function(){var t=w>=0?e.history[w]:"";document.getElementById("cli-input").children[1].value=t,p(t)}),[w]),Object(O.jsx)("div",{className:"container",onClick:L,children:Object(O.jsxs)("div",{id:"cli-wrapper",children:[Object(O.jsx)("div",{id:"cli-history",children:x.map((function(e,t){return Object(O.jsx)("div",{className:"cli-history-item",children:e},t)}))}),Object(O.jsxs)("div",{id:"cli-input",children:[Object(O.jsx)("span",{children:"$"}),Object(O.jsx)("input",{type:"text",onKeyDown:function(t){switch(t.keyCode){case 13:var n=x.slice();n.push(b),n.push(function(t){if(""===t)return t;if(t.indexOf("help")>=0)return E();if(0===t.indexOf("resume"))return window.open(d,"_blank"),d;if(0===t.indexOf("linkedin"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(l),t.indexOf("-o")>0&&window.open(l,"_blank"),l;if(0===t.indexOf("github"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(u),t.indexOf("-o")>0&&window.open(u,"_blank"),u;if(0===t.indexOf("history"))return e.history.filter((function(e){return""!==e})).join("\n");if("chart"===t)return window.setTimeout((function(){return e.displayManager.showChartSetup()}),0),t;if(0===t.indexOf("chart")){var n=t.split(" ")[1];return window.setTimeout((function(){return n?e.displayManager.showChart(n.toUpperCase()):e.displayManager.showChartSetup()}),0),t}return"Unknown cmd: "+t}(b)),m(n.reverse().slice(0,2).reverse()),k(void 0),p(""),t.target.value="";break;case 38:e.history.length>0&&k(w&&w>0?w-1:w?void 0:e.history.length-1);break;case 40:e.history.length>0&&(w&&w<e.history.length-1?k(w+1):k(void 0))}},onChange:function(e){return p(e.target.value)}})]})]})})},f=n(4),g=n.n(f),x=n(9),m=n(13),v=n.n(m);function y(e){return Object(O.jsxs)("div",{className:"cli-chart-metric",children:[Object(O.jsxs)("div",{className:"cli-chart-metric-header",children:[e.title,":"]}),Object(O.jsx)("div",{children:e.data})]})}function w(e){var t=new Date(e.datetime);return Object(O.jsxs)("div",{children:[e.quantity,", ",e.price,", ",t.getMonth()+1,"/",t.getDate(),"/",t.getFullYear()]})}function k(e){return Object(O.jsxs)("div",{tabIndex:"0",className:e.isLoading?"hidden":"cli-chart-control",onClick:e.onClick,children:[Object(O.jsx)("div",{children:e.name}),Object(O.jsxs)("div",{children:[" - ",e.hotkey]})]})}function S(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){e&&e.costBasis>0?e.costBasis>e.point.price?a("cli-chart-otm"):a("cli-chart-itm"):a("")}),[e.point]),Object(O.jsxs)("div",{id:"chart",children:[Object(O.jsx)("div",{className:i,children:v.a.plot(e.points,{height:e.height})}),Object(O.jsxs)("div",{id:"cli-chart-sidebar",children:[Object(O.jsxs)("div",{id:"cli-chart-transactions",children:[Object(O.jsx)("div",{children:"transactions"}),Object(O.jsx)("div",{id:"cli-chart-transactions-wrapper",children:e.transactions.map((function(e,t){return Object(O.jsx)(w,{quantity:e[0],price:e[1],datetime:e[2]},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{textAlign:"center"},children:"controls"}),Object(O.jsx)(k,{name:"exit",hotkey:"[ctrl] + [c]",onClick:e.displayManager.showCLI,isLoading:e.isLoading}),Object(O.jsx)(k,{name:"reselect",hotkey:"[ctrl] + [r]",onClick:e.displayManager.showChartSetup,isLoading:e.isLoading}),Object(O.jsx)(k,{name:"buy",hotkey:"[ctrl] + [b]",onClick:e.buy,isLoading:e.isLoading}),Object(O.jsx)(k,{name:"sell",hotkey:"[ctrl] + [s]",onClick:e.sell,isLoading:e.isLoading}),Object(O.jsx)(k,{name:"[+]",hotkey:"[ctrl] + [+]",onClick:e.zoomIn,isLoading:e.isLoading}),Object(O.jsx)(k,{name:"[-]",hotkey:"[ctrl] + [-]",onClick:e.zoomOut,isLoading:e.isLoading})]})]})]})}function C(e){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Unknown asset: ",e.asset," (example valid entry: BTC-USD)"]}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"}),Object(O.jsx)("div",{children:"select asset - [ctrl] + [r]"})]})}function L(e){var t,n=Object(c.useState)(""),i=Object(r.a)(n,2),a=i[0],s=i[1],d=Object(c.useState)(0),l=Object(r.a)(d,2),u=l[0],j=l[1],b=Object(c.useState)(),p=Object(r.a)(b,2),f=p[0],m=p[1],v=Object(c.useState)(32),w=Object(r.a)(v,2),k=w[0],L=w[1],E=Object(c.useState)({}),M=Object(r.a)(E,2),I=M[0],B=M[1],N=Object(c.useState)(),F=Object(r.a)(N,2),D=F[0],T=F[1],U=Object(c.useState)([]),K=Object(r.a)(U,2),P=K[0],_=K[1],z=Object(c.useState)(0),A=Object(r.a)(z,2),J=A[0],q=A[1],H=Object(c.useState)(-1),Q=Object(r.a)(H,2),R=Q[0],G=Q[1],W=Object(c.useState)([]),Y=Object(r.a)(W,2),Z=Y[0],$=Y[1],V=Object(c.useState)(0),X=Object(r.a)(V,2),ee=X[0],te=X[1],ne=function(e){var t=Z.filter((function(e){return e[2]===R}));return ce(t,e)/(t.length+1)},ce=function(e,t){return e.reduce((function(e,t){return e+t[1]}),0)+t},ie=function(){0===u&&G(R+1);var e=parseFloat(D.price);j(J+1===0?0:ne(e)),q(J+1),te(-1*ce(Z,e)),$([].concat(Object(o.a)(Z),[[1,e,D.time,R]]))},ae=function(){0===u&&G(R+1);var e=-1*parseFloat(D.price);j(J-1===0?0:ne(e)),q(J-1),te(-1*ce(Z,e)),$([].concat(Object(o.a)(Z),[[-1,e,D.time,R]]))},se=function(){return k>5?L(k-1):null},re=function(){return k<32?L(k+1):null};Object(c.useEffect)((function(){h.a.text(e.asset,{font:"Big"},(function(e,t){return s(t)})),document.getElementById("cli-wrapper").focus(),(t=new WebSocket("wss://ws-feed.pro.coinbase.com")).addEventListener("open",(function(){t.send(JSON.stringify({type:"subscribe",product_ids:[e.asset],channels:["ticker"]}))})),t.addEventListener("subscribe",(function(e){console.log("Subscription message:",e)})),t.addEventListener("message",(function(t){try{var n=JSON.parse(t.data);switch(n.type){case"ticker":return T(n);case"error":if("Failed to subscribe"===n.message&&n.reason===e.asset+" is not a valid product")return m(Object(O.jsx)(C,{asset:e.asset},"error"));default:console.log("Message from server ",t.data)}}catch(c){console.log("Received unparseable raw message:",t.data)}}))}),[]),Object(c.useEffect)(Object(x.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D&&((t=P.length<120?P.slice(0):P.slice(1)).push(parseFloat(D.price)),_(t));case 1:case"end":return e.stop()}}),e)}))),[D]),Object(c.useEffect)((function(){P.length>3?m(Object(O.jsx)(S,{displayManager:e.displayManager,buy:ie,sell:ae,zoomIn:se,zoomOut:re,costBasis:u,point:D,points:P,transactions:Z,height:k,isLoading:oe})):m(Object(O.jsx)("div",{children:"Loading..."},"loading"))}),[P]);var oe=!f||"loading"===f.key||"error"===f.key;return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"cli-chart"+(oe?"-loading":""),onKeyDown:function(t){var n=Object.assign(I);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():n[17]&&n[82]?e.displayManager.showChartSetup():n[17]&&n[66]?ie():n[17]&&n[83]?ae():n[17]&&n[61]?se():n[17]&&n[173]?re():void B(n)},onKeyUp:function(e){var t=Object.assign(I);delete t[e.keyCode],B(t)},tabIndex:"0",children:[Object(O.jsxs)("div",{className:oe?"hidden":"cli-chart-header",children:[Object(O.jsx)("div",{id:"cli-chart-banner",children:a}),Object(O.jsxs)("div",{id:"cli-chart-metrics",children:[Object(O.jsx)(y,{title:"Price",data:D?D.price:""}),Object(O.jsx)(y,{title:"Bid",data:D?D.best_bid:""}),Object(O.jsx)(y,{title:"Ask",data:D?D.best_ask:""}),Object(O.jsx)(y,{title:"Quantity",data:J}),Object(O.jsx)(y,{title:"Cost Basis",data:u.toFixed(4)}),Object(O.jsx)(y,{title:"Total",data:ee.toFixed(4)})]})]}),Object(O.jsx)("div",{style:{width:"100%",textAlign:oe?"center":""},children:f})]})})}h.a.parseFont("Big",b.a);var E=function(e,t){return(e%t+t)%t};function M(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(0),o=Object(r.a)(s,2),d=o[0],l=o[1],u=Object(c.useState)({}),j=Object(r.a)(u,2),h=j[0],b=j[1];return Object(c.useEffect)(Object(x.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("cli-view").focus(),e.next=3,fetch("https://api.pro.coinbase.com/products");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n.sort((function(e,t){return e.id>t.id?1:-1})));case 8:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)("div",{tabIndex:"0",className:"container",onKeyDown:function(t){if(17===t.keyCode||h[17]){var n=Object.assign(h);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():b(n)}switch(t.keyCode){case 13:e.displayManager.showChart(i[d].id);break;case 38:l(E(d-1,i.length));break;case 40:l(E(d+1,i.length))}},id:"cli-view",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"spaced-columns",children:[Object(O.jsx)("div",{id:"cli-history",children:i.slice(d,d+30).map((function(e,t){return Object(O.jsx)("div",{className:0===t?"selected":"",children:e.id},t)}))}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"})]})})}var I=function(){var e=Object(c.useState)({name:null}),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(Object(O.jsx)("div",{})),s=Object(r.a)(a,2),o=s[0],d=s[1],l=Object(c.useState)([]),u=Object(r.a)(l,2),j=u[0],h=u[1],b=function(){i({name:"cli",params:{}}),window.history.replaceState(null,"Main","/")},f={showCLI:b,showChart:function(e){i({name:"chart",params:{asset:e}}),window.history.replaceState(null,"Chart","/#chart")},showChartSetup:function(){i({name:"chartsetup",params:{}}),window.history.replaceState(null,"Chart","/#chartsetup")}};return Object(c.useEffect)((function(){return b()}),[]),Object(c.useEffect)((function(){switch(n.name){case"chartsetup":d(Object(O.jsx)(M,{displayManager:f}));break;case"chart":d(Object(O.jsx)(L,{asset:n.params.asset,displayManager:f}));break;case"cli":default:d(Object(O.jsx)(p,{history:j,setHistory:h,displayManager:f}))}}),[n]),Object(O.jsx)("div",{className:"App",children:o})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),B()}},[[21,1,2]]]);
//# sourceMappingURL=main.5311c86c.chunk.js.map