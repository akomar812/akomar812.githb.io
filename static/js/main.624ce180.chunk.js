(this["webpackJsonpakomar812.github.io"]=this["webpackJsonpakomar812.github.io"]||[]).push([[0],{10:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(11),s=n.n(a),r=(n(18),n(2)),o=n(5),d="https://drive.google.com/uc?id=1gL7S3L4zUgKBmq7oiPxmhPQxeZ2Us2I0&export=download",l="https://www.linkedin.com/in/andrew-komar-24537036/",u="https://github.com/akomar812",j=n(3),b=n.n(j),h=n(7),O=(n(10),n(0));b.a.parseFont("Big",h.a);var p=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(""),j=Object(r.a)(s,2),h=j[0],p=j[1],f=Object(c.useState)([]),g=Object(r.a)(f,2),m=g[0],x=g[1],v=Object(c.useState)(),y=Object(r.a)(v,2),w=y[0],k=y[1],C=Object(c.useState)("/"),S=Object(r.a)(C,2),L=S[0],N=S[1],B={resume:"Resume file download",linkedin:"LinkedIn profile",github:"Github repos",chart:"Select asset to chart live","chart [asset]":"Chart live asset price (example asset: BTC-USD)",help:"Print CLI usage"},E=Object.keys(B).reduce((function(e,t){return e.length>t.length?e:t})),I=function(){return document.getElementById("cli-input").children[1].focus()},M=function(e){for(var t="         ",n=0;n<E.length-e.length;n++)t+=" ";return t},F=["    contact: ".concat("akomar812@gmail.com"),"\n","    Try typing and entering one of the following commands.",'    If you get lost, use "help" to bring the set of commands back',"\n","    cmd".concat(M("cmd"),"description"),"    ---".concat(M("---"),"-----------")];for(var T in B)F.push("    ".concat(T).concat(M(T)).concat(B[T]));F.push(""),F.push("    general"),F.push("    -------"),F.push("    enter an empty command to clear screen"),F.push('    "-c" can be used to copy links to your clipboard (when applicable)'),F.push('    "-o" can be used to open links in new tab (when applicable)'),F.push(""),F.push("\n");var D=F.join("\n");return Object(c.useEffect)((function(){return I()}),[]),Object(c.useEffect)((function(){return b.a.text("Andrew Komar",{font:"Big"},(function(e,t){return a(t)}))}),[]),Object(c.useEffect)((function(){return x([[i,D].join("\n")])}),[i,D]),Object(c.useEffect)((function(){var t=w>=0?e.history[w]:"";document.getElementById("cli-input").children[1].value=t,p(t)}),[w,e.history]),Object(O.jsx)("div",{className:"container",onClick:I,children:Object(O.jsxs)("div",{id:"cli-wrapper",children:[Object(O.jsx)("div",{id:"cli-history",children:m.map((function(e,t){return Object(O.jsx)("div",{className:"cli-history-item",children:e},t)}))}),Object(O.jsxs)("div",{id:"cli-input",className:"row",children:[Object(O.jsx)("span",{children:"$"}),Object(O.jsx)("input",{type:"text",onKeyDown:function(t){switch(t.keyCode){case 13:var n=m.slice();n.push(h),n.push(function(t){if(""===t)return t;if(t.indexOf("help")>=0)return D;if(0===t.indexOf("resume"))return window.open(d,"_blank"),d;if(0===t.indexOf("linkedin"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(l),t.indexOf("-o")>0&&window.open(l,"_blank"),l;if(0===t.indexOf("github"))return t.indexOf("-c")>0&&navigator.clipboard.writeText(u),t.indexOf("-o")>0&&window.open(u,"_blank"),u;if(0===t.indexOf("history"))return e.history.filter((function(e){return""!==e})).join("\n");if("chart"===t)return window.setTimeout((function(){return e.displayManager.showChartSetup()}),0),t;if(0===t.indexOf("chart")){var n=t.split(" ")[1];return window.setTimeout((function(){return n?e.displayManager.showChart(n.toUpperCase()):e.displayManager.showChartSetup()}),0),t}return"pwd"===t?L:0===t.indexOf("cd")?(N(""),L):"Unknown cmd: "+t}(h)),x(n.reverse().slice(0,2).reverse()),k(void 0),e.setHistory([].concat(Object(o.a)(e.history),[h])),p(""),t.target.value="";break;case 38:e.history.length>0&&k(w&&w>0?w-1:w?void 0:e.history.length-1);break;case 40:e.history.length>0&&(w&&w<e.history.length-1?k(w+1):k(void 0))}},onChange:function(e){return p(e.target.value)}})]})]})})},f=n(12),g=n.n(f);function m(e){return Object(O.jsxs)("div",{className:"column align-start cli-chart-metric",children:[Object(O.jsxs)("div",{className:"cli-chart-metric-header",children:[e.title,":"]}),Object(O.jsx)("div",{children:e.data})]})}function x(e){var t=new Date(e.datetime);return Object(O.jsxs)("div",{children:[e.quantity,", ",e.price,", ",t.getMonth()+1,"/",t.getDate(),"/",t.getFullYear()]})}function v(e){return Object(O.jsxs)("div",{tabIndex:"0",className:e.isLoading?"hidden":"cli-chart-control",onClick:e.onClick,children:[Object(O.jsx)("div",{children:e.name}),Object(O.jsxs)("div",{children:[" - ",e.hotkey]})]})}function y(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){e&&e.costBasis>0?e.costBasis>e.point.price?a("cli-chart-otm"):a("cli-chart-itm"):a("")}),[e,e.costBasis,e.point]),Object(O.jsxs)("div",{className:"row justify-spaced",children:[Object(O.jsx)("div",{className:i,children:g.a.plot(e.points,{height:e.height})}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsxs)("div",{id:"cli-chart-transactions",children:[Object(O.jsx)("div",{children:"transactions"}),Object(O.jsx)("div",{id:"cli-chart-transactions-wrapper",children:e.transactions.map((function(e,t){return Object(O.jsx)(x,{quantity:e[0],price:e[1],datetime:e[2]},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{textAlign:"center"},children:"controls"}),Object(O.jsx)(v,{name:"exit",hotkey:"[ctrl] + [c]",onClick:e.displayManager.showCLI,isLoading:e.isLoading}),Object(O.jsx)(v,{name:"reselect",hotkey:"[ctrl] + [r]",onClick:e.displayManager.showChartSetup,isLoading:e.isLoading}),Object(O.jsx)(v,{name:"buy",hotkey:"[ctrl] + [b]",onClick:e.buy,isLoading:e.isLoading}),Object(O.jsx)(v,{name:"sell",hotkey:"[ctrl] + [s]",onClick:e.sell,isLoading:e.isLoading}),Object(O.jsx)(v,{name:"[+]",hotkey:"[ctrl] + [+]",onClick:e.zoomIn,isLoading:e.isLoading}),Object(O.jsx)(v,{name:"[-]",hotkey:"[ctrl] + [-]",onClick:e.zoomOut,isLoading:e.isLoading})]})]})]})}function w(e){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Unknown asset: ",e.asset," (example valid entry: BTC-USD)"]}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"}),Object(O.jsx)("div",{children:"select asset - [ctrl] + [r]"})]})}function k(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)(0),d=Object(r.a)(s,2),l=d[0],u=d[1],j=Object(c.useState)(),h=Object(r.a)(j,2),p=h[0],f=h[1],g=Object(c.useState)(32),x=Object(r.a)(g,2),v=x[0],k=x[1],C=Object(c.useState)("connecting"),S=Object(r.a)(C,2),L=S[0],N=S[1],B=Object(c.useState)({}),E=Object(r.a)(B,2),I=E[0],M=E[1],F=Object(c.useState)(),T=Object(r.a)(F,2),D=T[0],U=T[1],K=Object(c.useState)([]),P=Object(r.a)(K,2),_=P[0],z=P[1],A=Object(c.useState)(0),J=Object(r.a)(A,2),q=J[0],R=J[1],H=Object(c.useState)(-1),Q=Object(r.a)(H,2),W=Q[0],G=Q[1],Y=Object(c.useState)([]),Z=Object(r.a)(Y,2),$=Z[0],V=Z[1],X=Object(c.useState)(0),ee=Object(r.a)(X,2),te=ee[0],ne=ee[1],ce=function(e){var t=$.filter((function(e){return e[2]===W}));return ie(t,e)/(t.length+1)},ie=function(e,t){return e.reduce((function(e,t){return e+t[1]}),0)+t},ae=function(){0===l&&G(W+1);var e=parseFloat(D.price);u(q+1===0?0:ce(e)),R(q+1),ne(-1*ie($,e)),V([].concat(Object(o.a)($),[[1,e,D.time,W]]))},se=function(){0===l&&G(W+1);var e=-1*parseFloat(D.price);u(q-1===0?0:ce(e)),R(q-1),ne(-1*ie($,e)),V([].concat(Object(o.a)($),[[-1,e,D.time,W]]))},re=function(){return v>5?k(v-1):null},oe=function(){return v<32?k(v+1):null};Object(c.useEffect)((function(){b.a.text(e.asset,{font:"Big"},(function(e,t){return a(t)})),document.getElementById("cli-wrapper").focus();var t=new WebSocket("wss://ws-feed.pro.coinbase.com");return t.addEventListener("open",(function(){t.send(JSON.stringify({type:"subscribe",product_ids:[e.asset],channels:["ticker"]}))})),t.addEventListener("subscribe",(function(e){console.log("Subscription message:",e)})),t.addEventListener("message",(function(t){try{var n=JSON.parse(t.data);switch(n.type){case"subscriptions":return N("Waiting for data");case"ticker":return U(n);case"error":return void("Failed to subscribe"===n.message&&n.reason===e.asset+" is not a valid product"&&f(Object(O.jsx)(w,{asset:e.asset},"error")));default:console.log("Message from server ",t.data)}}catch(c){console.log("Received unparseable raw message:",t.data)}})),function(){t.close()}}),[]),Object(c.useEffect)((function(){if(D){var e=_.length<120?_.slice(0):_.slice(1);e.push(parseFloat(D.price)),z(e)}}),[D]),Object(c.useEffect)((function(){_.length>3?f(Object(O.jsx)(y,{displayManager:e.displayManager,buy:ae,sell:se,zoomIn:re,zoomOut:oe,costBasis:l,point:D,points:_,transactions:$,height:v,isLoading:de})):f(Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Loading... ",e.asset," - ",L]}),Object(O.jsx)("div",{children:"Depending on trade volume this can take a moment"}),Object(O.jsxs)("div",{className:"row justify-center",children:[Object(O.jsx)("div",{style:{marginRight:"2em"},children:"[ctrl] + [c] - cancel"}),Object(O.jsx)("div",{children:"[ctrl] + [r] - reselect"})]})]},"loading"))}),[_,L]);var de=!p||"loading"===p.key||"error"===p.key;return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"cli-chart column justify-center align-"+(de?"center":"start"),onKeyDown:function(t){var n=Object.assign(I);return n[t.keyCode]=!0,n[17]&&n[67]?e.displayManager.showCLI():n[17]&&n[82]?e.displayManager.showChartSetup():n[17]&&n[66]?ae():n[17]&&n[83]?se():n[17]&&n[61]?re():n[17]&&n[173]?oe():void M(n)},onKeyUp:function(e){var t=Object.assign(I);delete t[e.keyCode],M(t)},tabIndex:"0",children:[Object(O.jsxs)("div",{className:de?"hidden":"row justify-start",children:[Object(O.jsx)("div",{id:"cli-chart-banner",children:i}),Object(O.jsxs)("div",{className:"row align-center justify-center",children:[Object(O.jsx)(m,{title:"Price",data:D?D.price:""}),Object(O.jsx)(m,{title:"Bid",data:D?D.best_bid:""}),Object(O.jsx)(m,{title:"Ask",data:D?D.best_ask:""}),Object(O.jsx)(m,{title:"Quantity",data:q}),Object(O.jsx)(m,{title:"Cost Basis",data:l.toFixed(4)}),Object(O.jsx)(m,{title:"Total",data:te.toFixed(4)})]})]}),Object(O.jsx)("div",{style:{width:"100%",textAlign:de?"center":""},children:p})]})})}b.a.parseFont("Big",h.a);var C=n(9),S=n.n(C),L=n(13),N=function(e,t){return(e%t+t)%t};function B(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)([]),o=Object(r.a)(s,2),d=o[0],l=o[1],u=Object(c.useState)(0),j=Object(r.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)({}),f=Object(r.a)(p,2),g=f[0],m=f[1],x=Object(c.useState)(""),v=Object(r.a)(x,2),y=v[0],w=v[1];return Object(c.useEffect)((function(){y.length>0?l(i.filter((function(e){return e.id.match(y.toUpperCase())}))):l(i)}),[y,i]),Object(c.useEffect)((function(){function e(){return(e=Object(L.a)(S.a.mark((function e(){var t,n,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.pro.coinbase.com/products");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c=n.sort((function(e,t){return e.id>t.id?1:-1})),i=0;case 8:if(!(i<c.length)){e.next=15;break}if("BTC-USD"!==c[i].id){e.next=12;break}return h(i),e.abrupt("break",15);case 12:i++,e.next=8;break;case 15:a(c),l(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.getElementById("cli-view").focus(),function(){e.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{tabIndex:"0",className:"container",onKeyDown:function(t){var n=17===t.keyCode||g[17],c=t.keyCode>47&&t.keyCode<58,i=t.keyCode>64&&t.keyCode<91;if(n){var a=Object.assign(g);return a[t.keyCode]=!0,a[17]&&a[67]?e.displayManager.showCLI():m(a)}switch((c||i)&&(h(0),w(y+String.fromCharCode(t.keyCode))),t.keyCode){case 13:e.displayManager.showChart(d[b].id);break;case 38:h(N(b-1,d.length));break;case 40:h(N(b+1,d.length));break;case 8:h(0),w(y.substring(0,y.length-1));break;case 173:h(0),w(y+"-")}},id:"cli-view",children:Object(O.jsxs)("div",{id:"cli-wrapper",className:"column justify-spaced",children:[Object(O.jsx)("div",{id:"cli-history",children:d.slice(b,b+30).map((function(e,t){return Object(O.jsx)("div",{className:0===t?"selected":"",children:e.id},t)}))}),Object(O.jsxs)("div",{id:"cli-setup-controls",className:"row",children:[Object(O.jsx)("div",{children:"nav up - [\u2191]"}),Object(O.jsx)("div",{children:"nav down - [\u2193]"}),Object(O.jsx)("div",{children:"exit - [ctrl] + [c]"}),Object(O.jsxs)("div",{children:["search: ",""===y?"<search>":y]})]})]})})}var E=function(){var e=Object(c.useState)({name:null}),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(Object(O.jsx)("div",{})),s=Object(r.a)(a,2),o=s[0],d=s[1],l=Object(c.useState)([]),u=Object(r.a)(l,2),j=u[0],b=u[1],h=function(){i({name:"cli",params:{}}),window.history.replaceState(null,"Main","/")},f=function(e){i({name:"chart",params:{asset:e}}),window.history.replaceState(null,"Chart","/#chart")},g=function(){i({name:"chartsetup",params:{}}),window.history.replaceState(null,"Chart","/#chartsetup")};return Object(c.useEffect)((function(){return h()}),[]),Object(c.useEffect)((function(){var e={showCLI:h,showChart:f,showChartSetup:g};switch(n.name){case"chartsetup":d(Object(O.jsx)(B,{displayManager:e}));break;case"chart":d(Object(O.jsx)(k,{asset:n.params.asset,displayManager:e}));break;case"cli":default:d(Object(O.jsx)(p,{history:j,setHistory:b,displayManager:e}))}}),[n,j]),Object(O.jsx)("div",{className:"App",children:o})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(E,{})}),document.getElementById("root")),I()}},[[21,1,2]]]);
//# sourceMappingURL=main.624ce180.chunk.js.map